<script>
    function loadDrl() {
        $.ajax({
            type: 'GET',
            url: '/openFile',
            success: function(data) {
                console.log(data);
                document.getElementById("tekstarea").value = data.toString();
            }
        });

        $.ajax({
            type: 'GET',
            url: '/openFile2',
            success: function(data) {
                console.log(data);
                document.getElementById("tekstarea2").value = data.toString();
            }
        });
    }

    function editRule() {
        var tekst = document.getElementById("tekstarea").value;

        $.ajax({
            type: 'POST',
            url: '/saveFile',
            data: {'tekst' : tekst},
            success: function(data) {
                alert("Pravilo uspesno izmenjeno!");
//                $.ajax({
//                    type: 'POST',
//                    url: '/env',
//                    success: function(data) {
//                        alert("Restarted!");
//                    }
//                });
//                $.ajax({
//                    type: 'POST',
//                    url: '/refresh',
//                    success: function(data) {
//                        alert("Restarted!");
//                    }
//                });
            }
        });
    }
</script>
<div ng-if="indexVm.addRule" onload="loadDrl()">
<h1>Test Drools</h1>
<md-input-container>
  <label>Text</label>
  <textarea id="tekstarea" rows="30" cols="50" style="border:solid 1px rgb(63,81,181);">
    eee
</textarea>
</md-input-container>

<md-input-container>
  <label>Text</label>
  <textarea id="tekstarea2" rows="30" cols="50" style="border:solid 1px rgb(63,81,181);">
    eee
</textarea>
</md-input-container>

<md-button class="md-raised md-primary" onclick="editRule()">Save</md-button>
</div>
</html>